
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<!-- Page description -->

<meta name="description" content="P√°gina personal de Francisco Puga" />


<!-- Page author -->

<meta name="author" content="Francisco Puga" />


<!-- Canonical -->

<link rel="canonical" href="https://franciscopuga.es/blog/" />


<!-- Previous page -->

<link rel="prev" href=".." />


<!-- Next page -->

<link rel="next" href="archive/2026/" />


<!-- RSS feed -->

<link
  rel="alternate"
  type="application/rss+xml"
  title="Fuente RSS"
  href="../rss.xml"
/>
<link
  rel="alternate"
  type="application/rss+xml"
  title="Fuente RSS de contenido actualizado"
  href="../rss_updated.xml"
/>


<!-- Favicon -->
<link rel="icon" href="../assets/images/favicon.png" />

<!-- Generator banner -->
<meta name="generator" content="mkdocs-1.6.1, $md-name$-$md-version$" />

    
      
        <title>Index - Francisco Puga</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../extra/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  <script defer src="https://cloud.umami.is/script.js" data-website-id="bdad2eb0-6988-4bb1-937e-1709e0fadc02"></script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="conocimientoabierto" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Francisco Puga" class="md-header__button md-logo" aria-label="Francisco Puga" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Francisco Puga
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B√∫squeda" placeholder="B√∫squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b√∫squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pesta√±as" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegaci√≥n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Francisco Puga" class="md-nav__button md-logo" aria-label="Francisco Puga" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Francisco Puga
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Archivo
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archivo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2026/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2026
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2016/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2016
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2014
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2013
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2012
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2011/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2011
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2010
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2009/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2009
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2008/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2008
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="archive/2007/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2007
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2026-02-20 00:00:00+00:00">20 de febrero de 2026</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="herramientas-de-lint-y-format-para-markdown"><a class="toclink" href="2026/02/20/lint-format-markdown/">Herramientas de Lint y Format para Markdown</a></h2>
<p>Llevo bastante tiempo usando <code>markdownlint-cli2</code> y <code>prettier</code> para linting y formatting de Markdown, pero no ten√≠a un an√°lisis de las herramientas disponibles, para ver si hab√≠a mejores opciones.</p>
<h3 id="requisitos-deseables"><a class="toclink" href="2026/02/20/lint-format-markdown/#requisitos-deseables">Requisitos Deseables</a></h3>
<ul>
<li>Integraci√≥n con el IDE. Una buena extensi√≥n para VSCode y derivados</li>
<li>Integraci√≥n con pre-commit (oficial en el repo, no s√≥lo ejecuci√≥n local)</li>
<li>Una sola herramienta mejor que varias herramientas. En todo caso el linter y el formatter deben ser compatibles.</li>
<li>Bien mantenida, popular, ...</li>
<li>R√°pida</li>
<li>Rust &gt; Python &gt; Javascript</li>
<li>Prefiero herramientas en lenguajes que generan binarios como Rust porqu√© son m√°s f√°ciles de instalar y mantener. Luego en Python porqu√© conozco mejor el ecosistema</li>
<li>Formato:</li>
<li>Mucho Markdown es para LLMs o producido por LLMs. As√≠ que prefiero un <a href="https://franciscopuga.es/blog/2025/09/28/estilo-markdown-producido-llm/">estilo que concuerde</a>.</li>
<li>Que se lleve bien con MkDocs, que tiene su propio sabor (<a href="https://github.com/Python-Markdown/markdown">python-markdown</a>, y <a href="https://github.com/facelessuser/pymdown-extensions">python-markdown-extensions</a>)</li>
</ul>
<p class="annotate">Aunque preparando el art√≠culo me entero de que <a href="https://squidfunk.github.io/mkdocs-material/blog/2025/11/05/zensical/">MkDocs est√° <em>deprecated</em></a> y Zensical del mismo equipo usar√° en el futuro (1) CommonMark</p>
<ol>
<li><img alt="üôè" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64f.svg" title=":pray:" /> !Gracias!</li>
</ol>
<h3 id="herramientas"><a class="toclink" href="2026/02/20/lint-format-markdown/#herramientas">Herramientas</a></h3>
<h4 id="mdformat"><a class="toclink" href="2026/02/20/lint-format-markdown/#mdformat">mdformat</a></h4>
<p><a href="https://github.com/hukkin/mdformat">mdformat</a> es un formatter escrito en Python.</p>
<ul>
<li>Usa markdown-it-py c√≥mo parser.</li>
<li>643 estrellas</li>
<li>Soporta CommonMark, GFM, MysT</li>
<li>Tiene plugins para soportar casos particulares como Admonitions, formatear c√≥digo dentro de fenced blocks, ...</li>
<li>Opinionated. Pocas opciones de configuraci√≥n</li>
<li>Soporta MkDocs <a href="https://github.com/KyleKing/mdformat-mkdocs">a trav√©s de plugin</a>:</li>
<li>Aunque <a href="https://github.com/mkdocs/mkdocs/issues/1835">hay que probar bien</a>.</li>
<li>Plugin <a href="https://github.com/hukkin/mdformat/issues/528">no oficial para vscode</a>.</li>
<li>Tiene soporte para pre-comit</li>
</ul>
<p>No me acaba de convencer.</p>
<h4 id="prettier"><a class="toclink" href="2026/02/20/lint-format-markdown/#prettier">prettier</a></h4>
<p><a href="https://github.com/prettier/prettier">Prettier</a> es el est√°ndar para formatear en el ecosistema JavaScript.</p>
<ul>
<li>Usa remark-parser como parser</li>
<li>50k estrellas</li>
<li>Soporte para CommonMark, GFM y MDXv1</li>
<li>Muy buena integraci√≥n con el IDE</li>
<li>Es <em>opinionated</em>. La √∫nica opci√≥n espec√≠fica markdown es <a href="https://prettier.io/docs/options#prose-wrap">prose-wrap</a></li>
<li>No hay <a href="https://github.com/prettier/prettier/discussions/16227">soporte oficial para pre-commit</a>, ni para prek</li>
</ul>
<p>Una opci√≥n que nunca es mala, aunque puede no ser la mejor.</p>
<h4 id="markdownlint"><a class="toclink" href="2026/02/20/lint-format-markdown/#markdownlint">markdownlint</a></h4>
<p>Bajo este nombre encontramos varias herramientas de lint:</p>
<ul>
<li><a href="https://github.com/markdownlint/markdownlint">Una herramienta escrita en Ruby</a></li>
<li><a href="https://github.com/DavidAnson/markdownlint">Una librer√≠a escrita en NodeJS</a>. Es uno de los linters m√°s populares para markdown</li>
<li><a href="https://github.com/igorshubovych/markdownlint-cli">Una ClI sobre markdown lint</a>.</li>
<li><a href="https://github.com/DavidAnson/markdownlint-cli2">Otra CLI sobre markdown lint</a> escrita por la <a href="https://dlaa.me/blog/post/markdownlintcli2">misma persona</a> que markdownlint.</li>
</ul>
<p>La que nos interesa es <code>markdownlint-cli2</code>.</p>
<ul>
<li>Markdown/CommonMark</li>
<li>pre-commit, github action, <a href="https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint">extensi√≥n para vscode</a>.</li>
<li>Distintos formatos de salida (xml, json, consola, con colores, ...)</li>
<li>La configuraci√≥n es algo confusa, pero los ficheros <code>.markdownlint-cli2.*</code> permiten configurar tanto la CLI, c√≥mo la extensi√≥n para code, c√≥mo la librer√≠a</li>
<li>El linter usa por debajo el parse <a href="https://www.npmjs.com/package/markdown-it">markdown-it</a>.</li>
</ul>
<p><a href="https://blog.scottlowe.org/2024/03/01/linting-your-markdown-files/">Un art√≠culo sobre la herramienta</a>.</p>
<p>A pesar de las confusiones de nombres, y la documentaci√≥n dispersa no es una mala opci√≥n.</p>
<h4 id="remark"><a class="toclink" href="2026/02/20/lint-format-markdown/#remark">remark</a></h4>
<p><a href="https://github.com/remarkjs/remark">Remark</a> no es una herramienta si no un ecosistema en torno a Markdown que a su vez forma forma parte de <a href="https://unifiedjs.com/">unifiedjs</a>.</p>
<p>Por defecto trabaja con ConmmonMark pero tiene plugins para otras versiones.</p>
<p>Es muy configurable, tanto, que entender bien c√≥mo funciona, escoger los plugins y configurar las opciones adecuadas se vuelve complicado.</p>
<p><a href="https://github.com/remarkjs/remark-lint/issues/227">Sin soporte oficial para pre-commit</a>.</p>
<p>La <a href="https://github.com/drewbourne/vscode-remark-lint">extensi√≥n de remark-lint para vscode</a> que aparece en el README no se actualiza desde 2018. Hay otra <a href="https://github.com/remarkjs/vscode-remark">extensi√≥n que parece oficial</a> que en el momento de escribir esto lleva m√°s de a√±o y medio (Abril/2024) sin actualizarse.</p>
<ul>
<li><a href="https://github.com/remarkjs/remark/tree/main/packages/remark-parse">remark-parse</a> es la librer√≠a que convierte markdown a AST. Es usada tambi√©n por prettier.</li>
<li><a href="https://github.com/remarkjs/remark/tree/main/packages/remark-stringify">remark-stringify</a>. Es la librer√≠a que se encarga de convertir el AST a Markdown. Cuando formateamos Markdown remark-parse lo convierte a AST, y remark-stringify lo convierte de nuevo a Markdown. Las reglas que queremos para el formatter son las que admita esta librer√≠a m√°s plugins.</li>
<li><a href="https://github.com/remarkjs/remark-lint">remark-lint</a>. Es un monorepo que contiene la librer√≠a b√°sica de linting y un mont√≥n de reglas que est√°n por separadas o en conjuntos llamados "<a href="https://github.com/remarkjs/remark-lint?tab=readme-ov-file#rules">presets</a>". Pero no es una herramienta, el uso de la librer√≠a es a trav√©s de remark-cli. Cuando instalamos un preset el paquete base remark-lint va c√≥mo dependencia. Los presets m√°s habituales:</li>
<li><a href="https://github.com/remarkjs/remark-lint/tree/main/packages/remark-preset-lint-consistent">remark-preset-lint-consistent</a> ‚Äî rules that enforce consistency</li>
<li><a href="https://github.com/remarkjs/remark-lint/tree/main/packages/remark-preset-lint-markdown-style-guide">remark-preset-lint-markdown-style-guide</a> ‚Äî rules that enforce the markdown style guide</li>
<li><a href="https://github.com/remarkjs/remark-lint/tree/main/packages/remark-preset-lint-recommended">remark-preset-lint-recommended</a> ‚Äî rules that prevent mistakes or stuff that fails across vendors.</li>
<li><a href="https://github.com/remarkjs/remark/tree/main/packages/remark-cli">remark-cli</a>, es la herramienta de l√≠nea de comandos para llevar a cabo operaciones.</li>
<li><a href="https://github.com/remarkjs/remark?tab=readme-ov-file#plugins">plugins</a> para casi todo lo que podamos imaginar. Otras versiones de markdown c√≥mo remark-gfm, manipulaciones c√≥mo remark-toc, linting c√≥mo remark-lint, ...</li>
</ul>
<h5 id="un-ejemplo-de-instalacion-y-uso"><a class="toclink" href="2026/02/20/lint-format-markdown/#un-ejemplo-de-instalacion-y-uso">Un ejemplo de instalaci√≥n y uso</a></h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Instalar la l√≠nea de comandos gen√©rica</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>npm<span class="w"> </span>install<span class="w"> </span>--save-dev<span class="w"> </span>remark-cli
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Instalar plugins c√≥mo remark-toc o un conjunto de reglas</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>npm<span class="w"> </span>install<span class="w"> </span>--save-dev<span class="w"> </span>remark-preset-lint-markdown-style-guide<span class="w"> </span>remark-toc
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># Format de un fichero</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>remark<span class="w"> </span>--output<span class="w"> </span>readme.md
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="c1"># Format de un fichero a√±adiendo el TOC</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>remark<span class="w"> </span>--output<span class="w"> </span>--use<span class="w"> </span>remark-toc<span class="w"> </span>readme.md
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="c1"># Lint de todos los ficheros acorde a remark-preset-lint-markdown-style-guide</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>remark<span class="w"> </span>--use<span class="w"> </span>remark-preset-lint-markdown-style-guide<span class="w"> </span>.
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="c1"># Format de todos los ficheros markdown en el directorio actual</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>remark<span class="w"> </span>.<span class="w"> </span>--output
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="c1"># Lint de todos los ficheros markdown en el directorio actual</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>remark<span class="w"> </span>.
</span></code></pre></div>
<h5 id="un-ejemplo-de-configuracion"><a class="toclink" href="2026/02/20/lint-format-markdown/#un-ejemplo-de-configuracion">Un ejemplo de configuraci√≥n</a></h5>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="l l-Scalar l-Scalar-Plain">// .remarkrc.yaml</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="l l-Scalar l-Scalar-Plain">plugins</span><span class="p p-Indicator">:</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">  </span><span class="c1"># Check that markdown is consistent.</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remark-preset-lint-consistent</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="c1"># Few recommended rules.</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remark-preset-lint-recommended</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">  </span><span class="c1"># Generate a table of contents in `## Contents`</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">remark-toc</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">heading</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">contents</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="nt">settings</span><span class="p">:</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">  </span><span class="nt">bullet</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">  </span><span class="nt">emphasis</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;_&quot;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">  </span><span class="nt">strong</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
</span></code></pre></div>
<h3 id="herramientas-descartadas"><a class="toclink" href="2026/02/20/lint-format-markdown/#herramientas-descartadas">Herramientas Descartadas</a></h3>
<h4 id="biome"><a class="toclink" href="2026/02/20/lint-format-markdown/#biome">Biome</a></h4>
<p><a href="https://github.com/biomejs/biome">Biome</a> es la alternativa a prettier y eslint escrita en rust, pero todav√≠a no implementa todas las reglas ni todos los lenguajes que soporta prettier. No soporta Markdown <a href="https://github.com/biomejs/biome/issues/3718">por ahora</a>.</p>
<h4 id="pymarkdown"><a class="toclink" href="2026/02/20/lint-format-markdown/#pymarkdown">PyMarkdown</a></h4>
<p><a href="https://github.com/jackdewinter/pymarkdown">PyMarkdown</a> es un linter escrito en Python que cumple pocos de los requisitos.</p>
<ul>
<li>Usan su propio parser.</li>
<li>109 estrellas</li>
<li>Soporta CommonMark y GFM</li>
<li>Tiene soporte para pre-commit</li>
<li>No parece tener extensi√≥n para vscode, ni ning√∫n otro IDE</li>
<li>Tienen muchas opciones y reglas y es muy configurable</li>
</ul>
<h5 id="dprint"><a class="toclink" href="2026/02/20/lint-format-markdown/#dprint">dprint</a></h5>
<p><a href="https://github.com/dprint/dprint">dprint</a> no es un proyecto al que le hubiera prestado mucha atenci√≥n si no fuera porqu√© lo usan Deno y Helix.</p>
<p>Es un "framework" para formatting escrito en Rust que soporta muchos lenguajes a trav√©s de plugins, entre ellos Markdown. Por ejemplo tienen un plugin para ruff para formatear Python.</p>
<p>Para markdown usa un <a href="https://github.com/pulldown-cmark/pulldown-cmark">parser</a> centrado en CommonMark con soporte parcial para GFM. Las reglas de formato son poco configurables. Parece tener integraci√≥n con pre-commit (no oficial) y vscode, pero no muy mantenida:</p>
<p>Bugs a los que prestar atenci√≥n:</p>
<ul>
<li><a href="https://github.com/dprint/dprint/issues/859">#859</a></li>
<li><a href="https://github.com/dprint/dprint/issues/442">#442</a></li>
</ul>
<h3 id="otras-referencias"><a class="toclink" href="2026/02/20/lint-format-markdown/#otras-referencias">Otras referencias</a></h3>
<ul>
<li><a href="https://dlaa.me/blog/post/markdownlintanalyzeconfig">A brief analysis of markdownlint rule popularity</a></li>
</ul>
<h3 id="conclusiones"><a class="toclink" href="2026/02/20/lint-format-markdown/#conclusiones">Conclusiones</a></h3>
<p>Prettier y Markdownlint son las mejores opciones en este momento. Habr√° que estar atentos a la evoluci√≥n de otras herramientas c√≥mo dprint, biome u <a href="https://oxc.rs/">Oxc</a>, y tambi√©n a lo que salga de Zensical.</p>
<p>Si manipular el Markdown mediante l√≠nea de comandos tambi√©n es de inter√©s remark es una opci√≥n a estudiar.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2026-02-08 00:00:00+00:00">8 de febrero de 2026</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="bash-debug-mode"><a class="toclink" href="2026/02/08/bash-debug-mode/">Bash debug mode</a></h2>
<p>Depurar un script de bash suele consistir en insertar un mont√≥n de <code>echo</code> que luego hay que borrar.</p>
<p>Un m√©todo mejor es usar <code>set -x</code>, que activa lo que podr√≠amos llamar <em>bash debug mode</em>.</p>
<div class="admonition quote">
<p class="admonition-title">de la documentaci√≥n <a href="https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html">bash</a></p>
<p>-x. Print a trace of simple commands, for commands, case commands, select commands, and arithmetic for commands and their arguments or associated word lists to the standard error after they are expanded and before they are executed. The shell prints the expanded value of the PS4 variable before the command and its expanded arguments.</p>
</div>
<p>Esta opci√≥n hace un print de cada comando del script a stderr antes de ejecutarlo.</p>
<p>Los par√°metros (<em>parameters</em>) se expanden antes del print por lo que veremos los valores reales (<em>arguments</em>).</p>
<p>Podemos simplemente a√±adirlo al script cuando estemos depurando, y eliminarlo despu√©s. O, incluir la l√≥gica en el propio script mediante par√°metros y variables de entorno. Lo bueno de la variable de entorno es que podr√≠amos tener varios scripts que la compartan de modo que activemos el modo debug para todos los scripts a la vez</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nv">DEBUG</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">GLOBAL_DEBUG_MODE</span><span class="k">:-</span><span class="nv">false</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="k">in</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">        </span>--debug<span class="o">)</span><span class="w"> </span><span class="nv">DEBUG</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="p">;;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="k">esac</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="nb">shift</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="k">done</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DEBUG</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span>-x
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="nv">a</span><span class="o">=</span><span class="m">5</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">a</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>
</span></code></pre></div>
<p>Salida:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$ GLOBAL_DEBUG_MODE=true ./my-script.sh
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>+ a=5
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>+ echo 5
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>5
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>+ echo bar
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>bar
</span></code></pre></div>
<p>Dos trucos adicionales en los que fijarse que nos permiten un poco de magia extra</p>
<ul>
<li>El <code>+</code> es el <a href="https://www.gnu.org/software/bash/manual/html_node/Controlling-the-Prompt.html">valor de <code>PS4</code></a></li>
<li>Los prints van a stderr</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a># Use &#39;2$&gt;&#39; instead of &#39;2&gt;&#39; to combine stderr and stdout
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>$ PS4=&#39;\D{%F:%T} &gt;&gt; &#39; ./my-script.sh --debug 2&gt; debug.log
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>5
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>bar
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>$ cat debug.log
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>2026-02-08:19:30:51 &gt;&gt; a=5
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>2026-02-08:19:30:51 &gt;&gt; echo 5
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>2026-02-08:19:30:51 &gt;&gt; echo bar
</span></code></pre></div>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2026-01-02 00:00:00+00:00">2 de enero de 2026</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="bash-variables-indefinidas-unset-vs-vacias-empty"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/">Bash: Variables indefinidas (<em>unset</em>) vs vac√≠as (<em>empty</em>)</a></h2>
<p>Bash es un lenguaje particular respecto a las variables que no han sido definidas previamente.</p>
<p>En Python, por ejemplo, las reglas son claras: una variable debe estar declarada antes de usarse. Si esa variable no existe, el int√©rprete lanzar√° un error.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="p">(</span><span class="n">my_var</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  <span class="n">File</span> <span class="s2">&quot;&lt;python-input-0&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="nb">print</span> <span class="p">(</span><span class="n">my_var</span><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>           <span class="o">^^^^^^</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;my_var&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">my_var</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="p">(</span><span class="n">my_var</span><span class="p">)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">foo</span>
</span></code></pre></div>
<p>En bash, <strong>por defecto</strong>, no se distingue entre una variable vac√≠a y una indefinida. Al acceder a una variable no definida, bash no lanza errores y no detiene el script. Simplemente asume la asume c√≥mo un <em>empty string</em>.</p>
<p>Esto, que parece c√≥modo para peque√±os scripts, es tambi√©n causa de muchos desastres: <code>rm -rf "${build_dir}/"</code>.</p>
<h3 id="empty-vs-null"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#empty-vs-null">Empty vs Null</a></h3>
<p>En este art√≠culo usaremos exclusivamente el termino <em>empty variable</em> o <em>variable vac√≠a</em>.</p>
<p>Pero para bash no hay diferencia pr√°ctica entre <em>null</em> y <em>empty</em>. A veces tambi√©n se habla de ese valor c√≥mo <em>empty string</em> o <em>null string</em></p>
<p>En la pr√°ctica el valor de estas dos variables es el mismo:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nv">explicit_empty_or_null_string</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nv">implicit_empty_or_null_string</span><span class="o">=</span>
</span></code></pre></div>
<h3 id="empty-vs-unset"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#empty-vs-unset">Empty vs Unset</a></h3>
<p>Pero, aunque bash intente disimularlo, si hay diferencias entre <em>empty o null</em> y <em>unset</em>:</p>
<ul>
<li><strong>empty</strong>: La variable existe, tiene un espacio asignado en memoria, pero su contenido es una cadena de longitud cero.</li>
<li><strong>unset</strong>: La variable no existe en el entorno actual. No tiene un espacio de memoria asignado.</li>
</ul>
<p>Sin "protecciones", ambos tipos se comportan igual al expandirse:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1"># Sin &#39;set -u&#39;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nb">unset</span><span class="w"> </span>explicit_not_existent_var<span class="w"> </span><span class="c1"># variable indefinida</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nv">explicit_empty_string</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w">  </span><span class="c1"># variable vac√≠a</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="nv">implicit_empty_string</span><span class="o">=</span><span class="w">    </span><span class="c1"># variable vac√≠a</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1"># En los cuatro casos se imprimir√°n l√≠neas vac√≠as</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;A: </span><span class="si">${</span><span class="nv">implicit_no_existent_var</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;B: </span><span class="si">${</span><span class="nv">explicit_not_existent_var</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;C: </span><span class="si">${</span><span class="nv">explicit_empty_string</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;D: </span><span class="si">${</span><span class="nv">implicit_empty_string</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<h3 id="unbound-variables"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#unbound-variables">Unbound variables</a></h3>
<p>La cosa cambia cuando activamos el modo de bash de protecci√≥n ante <em>unbound variables</em></p>
<div class="admonition note">
<p class="admonition-title">unset vs unbound</p>
<p>No hay diferencias a nivel pr√°ctico entre el t√©rmino <code>unset</code> y el t√©rmino <code>unbound</code> en bash y se pueden usar c√≥mo sin√≥nimos. Lo que sucede es que al usar una variable no definida bajo <code>set -u</code> el mensaje de error (<code>bash: foo: unbound variable</code>) hace referencia a <code>unbound</code>,mientras que los comandos en s√≠ hacen referencia a <code>unset</code></p>
</div>
<p>Cuando usamos <code>set -u</code> (o <code>set -o nounset</code>) cambiamos "al modo protecci√≥n". Una pr√°ctica que forma parte del llamado bash strict mode y que deber√≠a usarse en el 95% de los casos.</p>
<div class="admonition quote">
<p class="admonition-title">de la documentaci√≥n <a href="https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html">bash</a></p>
<p>Treat unset variables and parameters other than the special parameters '@' or '<em>', or array variables subscripted with '@' or '</em>', as an error when performing parameter expansion. An error message will be written to the standard error, and a non-interactive shell will exit.</p>
</div>
<p>Siguiendo el ejemplo anterior:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nb">set</span><span class="w"> </span>-u
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nb">unset</span><span class="w"> </span>explicit_not_existent_var<span class="w"> </span><span class="c1"># variable indefinida</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nv">explicit_empty_string</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w">  </span><span class="c1"># variable vac√≠a</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nv">implicit_empty_string</span><span class="o">=</span><span class="w">    </span><span class="c1"># variable vac√≠a</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;A: </span><span class="si">${</span><span class="nv">implicit_not_existent_var</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># bash: implicit_no_existent_var: unbound variable</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;B: </span><span class="si">${</span><span class="nv">explicit_not_existent_var</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># bash: explicit_no_existent_var: unbound variable</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;C: </span><span class="si">${</span><span class="nv">explicit_empty_string</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># imprime una cadena vac√≠a</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;D: </span><span class="si">${</span><span class="nv">implicit_empty_string</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># imprime una cadena vac√≠a</span>
</span></code></pre></div>
<h3 id="operaciones-utiles"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#operaciones-utiles">Operaciones √∫tiles</a></h3>
<p>Hay varias "operaciones" que es √∫til conocer para validar estas variables.</p>
<p>La primera es:</p>
<ul>
<li><strong>noop</strong> <code>:</code>. Llamada a veces <a href="https://bashcommands.com/bash-noop">operaci√≥n null</a>, permite evaluar las variables si que se ejecute su resultado. Veremos su utilidad en ejemplos posteriores.</li>
</ul>
<h4 id="conditional-expressions"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#conditional-expressions">Conditional Expressions</a></h4>
<p>Lo m√°s b√°sico es usar la expresiones condicionales del <code>[[</code> <em><a href="https://www.gnu.org/software/bash/manual/html_node/Conditional-Constructs.html">compound command</a></em> y los <em><a href="https://www.gnu.org/software/bash/manual/html_node/Bourne-Shell-Builtins.html">builtin commands</a></em> <code>test</code> y <code>[</code></p>
<p>De la documentaci√≥n de <a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Conditional-Expressions.html">expresiones condicionales</a>:</p>
<ul>
<li><code>-v varname</code>. True if the shell variable <em>varname</em> is set (has been assigned a value). If <em>varname</em> is an indexed array variable name subscripted by <code>@</code> or <code>*</code>, this returns true if the array has any set elements. If <em>varname</em> is an associative array variable name subscripted by <code>@</code> or <code>*</code>, this returns true if an element with that key is set.</li>
<li><code>-z string</code>. True if the length of string is zero.</li>
<li><code>-n string</code>. True if the length of string is non-zero.</li>
</ul>
<p>Usaremos estas expresiones dentro de un if o con operadores c√≥mo <code>&amp;&amp;</code> o <code>||</code>. El que en general debemos usar es <code>-v</code> dado que <code>-z</code> y <code>-n</code> dan error en modo <code>set -u</code> con variables indefinidas.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p><code>-v</code> espera un nombre de variable, no se debe poner el <code>$</code>. Si estamos trabajando con referencias hay que usar -R.</p>
</div>
<p>A modo de ejemplo</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">set</span><span class="w"> </span>-u
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nb">unset</span><span class="w"> </span>foo
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">foo</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&#39;foo&#39; is not set&quot;</span><span class="p">;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span><span class="w"> </span><span class="c1"># bash: foo: unbound variable</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="o">[[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">foo</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&#39;foo&#39; is not set&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1"># bash: foo: unbound variable</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="o">[[</span><span class="w"> </span>-v<span class="w"> </span>foo<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&#39;foo&#39; is not set&quot;</span><span class="p">;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span><span class="w"> </span><span class="c1"># &#39;foo&#39; is not set</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="o">[[</span><span class="w"> </span>-z<span class="w"> </span>foo<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&#39;foo&#39; is not set&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c1"># &#39;foo&#39; is not set</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="o">[[</span><span class="w"> </span>-z<span class="w"> </span>foo<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">foo</span><span class="o">=</span><span class="s1">&#39;DEFAULT_VALUE&#39;</span><span class="w"> </span><span class="c1"># DEFAULT_VALUE is assigned to foo</span>
</span></code></pre></div>
<h4 id="parameter-expansion"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#parameter-expansion">Parameter Expansion</a></h4>
<p>Para asignar valores por defecto o "fallar pronto" si una variable est√° vac√≠a el <a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html">parameter expansion</a> de bash es m√°s elegante que las expresiones condiciones</p>
<ul>
<li><strong>Valor por defecto</strong> (safe fallback) <code>:-</code>. Si la variable es <code>unset</code> o <code>empty</code> aplica un valor por defecto sin modificar la variable original.</li>
<li><strong>Asignaci√≥n por defecto</strong> <code>:=</code>. Si la variable es <code>unset</code> o <code>empty</code> <strong>asigna</strong> un valor por defecto a la variable original.</li>
<li><strong>Fallo Temprano</strong> <code>:?</code>. Si la variable es <code>unset</code> o <code>empty</code>, e independientemente de haber usado <code>set -u</code> se aborta el script con un mensaje.</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Si &#39;nombre&#39; no existe o est√° vac√≠o, usa &quot;Mundo&quot;.</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hola </span><span class="si">${</span><span class="nv">nombre</span><span class="k">:-</span><span class="nv">Mundo</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># Asigna &quot;rm&quot; a FAVORITE_COMMAND si no estaba definido.</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1"># Usamos noop (:) para que Bash eval√∫e la expresi√≥n sin ejecutar el resultado. Sin `:`, ejecutar√≠a el `rm` o lo que contenga la variable FAVORITE_COMMAND</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>:<span class="w"> </span><span class="si">${</span><span class="nv">FAVORITE_COMMAND</span><span class="p">:=rm</span><span class="si">}</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="c1"># Si build_dir no est√° seteado, aborta imprimiendo el mensaje.</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>rm<span class="w"> </span>-rf<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">build_dir</span><span class="p">:?Error: Directorio no definido</span><span class="si">}</span><span class="s2">/&quot;</span>
</span></code></pre></div>
<h3 id="algunas-referencias-extras"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#algunas-referencias-extras">Algunas referencias extras</a></h3>
<ul>
<li>StackOverflow. <a href="https://stackoverflow.com/q/3601515/930271">How to check if a variable is set in Bash</a></li>
<li>StackOverflow. <a href="https://stackoverflow.com/q/13361658/930271">How can I test whether a positional parameter is set in Bash?</a></li>
<li>StackOverflow. <a href="https://stackoverflow.com/q/3685970/930271">Check if a Bash array contains a value</a></li>
</ul>
<h3 id="conclusiones-guia-de-estilo"><a class="toclink" href="2026/01/02/bash-unset-vs-empty-variables/#conclusiones-guia-de-estilo">Conclusiones: Gu√≠a de estilo</a></h3>
<p>Los scripts en bash son potentes y flexibles pero es f√°cil que el c√≥digo sea dif√≠cil de leer o con bugs ocasionales pero catastr√≥ficos.</p>
<p>Dentro de mis normas para bash en lo referente a variables vac√≠as y no definidas est√°n:</p>
<p><strong>Usar <code>set -u</code></strong>. Hay pocas situaciones en que este modo no sea el correcto. Y en partes concretas de un script se puede desactivar y volver a activar.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nb">set</span><span class="w"> </span>-u
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Start&quot;</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="nb">set</span><span class="w"> </span>+u
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Something weird related to unbound variables&quot;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="nb">set</span><span class="w"> </span>-u
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Come back to safety&quot;</span>
</span></code></pre></div>
<p><strong>Usar <code>:-</code> para asignar valores por defecto</strong>. No uso el comando de asignaci√≥n <code>:=</code>. Por nada en especial, simplemente me permite reducir la cantidad de formas distinta de hacer lo mismo. No se pueden usar con <code>$1</code>.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nb">set</span><span class="w"> </span>-u
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="s2">&quot;</span><span class="si">${</span><span class="nv">foo</span><span class="p">:=World</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># error, intentar√° ejecutar el comando `World`</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>:<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">:=World</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># error, no se puede asignar a $1</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>:<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">foo</span><span class="p">:=World</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1"># No da error, pero &quot;reducimos la API a conocer&quot;</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1"># Me gustan m√°s estas soluciones</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="nv">foo</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">World</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="nv">foo</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">foo</span><span class="k">:-</span><span class="nv">World</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>die<span class="o">(){</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">  </span><span class="c1"># Call like `die &quot;File not found&quot;` or `die`</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">  </span><span class="nb">local</span><span class="w"> </span><span class="nv">error</span><span class="o">=</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">Undefined</span><span class="p"> error</span><span class="si">}</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$0</span><span class="s2">: </span><span class="nv">$LINE</span><span class="s2"> </span><span class="nv">$error</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="o">}</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="c1"># Si no queremos que salte unbound pero no nos preocupa que sea empty, podemos dejar el</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="c1"># valor por defecto vac√≠o</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>info<span class="o">()</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">    </span><span class="c1"># Will print the message `info &quot;this is a message&quot;` or an empty line `info`</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">msg</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">msg</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="o">}</span>
</span></code></pre></div>
<p><strong>Usar <code>:?</code> para comprobar cuando una variable es vac√≠a o indefinida</strong>.</p>
<p>Ejemplos:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nb">set</span><span class="w"> </span>-u
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nv">user</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">1</span><span class="p">:?Mandatory parameter for </span><span class="s1">&#39;user&#39;</span><span class="p"> is missing</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="nv">build_dir_path</span><span class="o">=</span><span class="k">$(</span>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>d<span class="w"> </span>-iname<span class="w"> </span><span class="s1">&#39;build_dir&#39;</span><span class="k">)</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>:<span class="w"> </span><span class="si">${</span><span class="nv">A</span><span class="p">:?</span><span class="s1">&#39;build_dir&#39;</span><span class="p"> folder is not found</span><span class="si">}</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>:<span class="w"> </span><span class="si">${</span><span class="nv">VIRTUAL_ENV</span><span class="p">:?</span><span class="s2">&quot;virtualenv should be activated before continue&quot;</span><span class="si">}</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="c1"># Prefiero la versi√≥n anterior a estas</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="o">[[</span><span class="w"> </span>-v<span class="w"> </span>VIRTUAL_ENV<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;virtualenv should be activated before continue&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="c1"># No usar -z porqu√© genera un unbound</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="k">if</span><span class="w"> </span>!<span class="w"> </span><span class="o">[[</span><span class="w"> </span>-v<span class="w"> </span>VIRTUAL_ENV<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;virtualenv should be activated before continue&quot;</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="k">fi</span>
</span></code></pre></div>
<p>Para entender mejor otras opciones</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Estamos intentando usar una unbound variable, da el mensaje gen√©rico al respecto.</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>:<span class="w"> </span><span class="si">${</span><span class="nv">VIRTUAL_ENV</span><span class="si">}</span><span class="w"> </span><span class="c1"># bash: VIRTUAL_ENV: unbound variable</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1"># Genera su propio mensaje de error, distinto al habitual</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>:<span class="w"> </span><span class="si">${</span><span class="nv">VIRTUAL_ENV</span><span class="p">:?</span><span class="si">}</span><span class="w"> </span><span class="c1"># bash: VIRTUAL_ENV: parameter null or not set</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1"># definimos la variable pero en blanco</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="nv">VIRTUAL_ENV</span><span class="o">=</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="c1"># Sigue detectando que est√° vac√≠a</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>:<span class="w"> </span><span class="si">${</span><span class="nv">VIRTUAL_ENV</span><span class="p">:?</span><span class="si">}</span><span class="w"> </span><span class="c1"># bash: VIRTUAL_ENV: parameter null or not set</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>:<span class="w"> </span><span class="si">${</span><span class="nv">VIRTUAL_ENV</span><span class="si">}</span><span class="w"> </span><span class="c1"># No da error, simplemente es una cadena vac√≠a que no se ejecuta</span>
</span></code></pre></div>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-12-11 00:00:00+00:00">11 de diciembre de 2025</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="agentsmd-and-the-to-reference-documents"><a class="toclink" href="2025/12/11/agents-md-and-at-character-to-reference-documents/">AGENTS.md and the @ to reference documents</a></h2>
<p>This article is just a quick experiment on:</p>
<ul>
<li>The difference between referencing a document that the agent reads with the <code>@</code> symbol in front or simply by including the path. <code>@./docs/rule1.md</code> vs simple <code>./docs/rule1.md</code>.</li>
<li>How to split the rules of the LLM into different documents to avoid "burning" context".</li>
</ul>
<p>The ideas are based on these two articles:</p>
<ul>
<li><a href="https://merowing.info/posts/stop-getting-average-code-from-your-llm/">Stop Getting Average Code from Your LLM</a></li>
<li><a href="https://blog.sshh.io/p/how-i-use-every-claude-code-feature">How I Use Every Claude Code Feature</a></li>
</ul>
<p>The first test is with gemini-cli, which by default does not use <code>AGENTS.md</code>. <a href="https://github.com/google-gemini/gemini-cli/discussions/1471">In this ticket</a>, there are also people asking if the use of <code>@</code> is inherent to the model or the tool.</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="go">mkdir -p /tmp/experiment/docs</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">cd /tmp/experiment</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">echo &quot;Start all your answers with &#39;Hello fpuga&#39;.</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">If the user ask any question about Spain read ./docs/foo.md</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">&quot; &gt; GEMINI.md</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">echo &quot;Always add a joke at the end of your answers&quot; &gt; docs/foo.md</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="go">gemini &quot;What is the capital of France&quot;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="go">&gt;&gt;&gt; Hello fpuga</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="go">&gt;&gt;&gt; Paris.</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="go">gemini &quot;What is the capital of Spain&quot;</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="go">&gt;&gt;&gt; Hello fpuga</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="go">&gt;&gt;&gt; Hello fpuga</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="go">&gt;&gt;&gt; I need to find the capital of Spain. I will use a web search tool for this.</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="go">&gt;&gt;&gt; Hello fpuga</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="go">&gt;&gt;&gt; The capital of Spain is Madrid.</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="go">&gt;&gt;&gt;</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="go">&gt;&gt;&gt; Why did the invisible man turn down the job offer?</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="go">&gt;&gt;&gt;</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="go">&gt;&gt;&gt; He couldn&#39;t see himself doing it!</span>
</span></code></pre></div>
<p>We see that when we don't use <code>@</code>, the tool/model only loads <code>GEMINI.md</code>, but it's able to load the additional rules when needed.</p>
<p>Let's try it with <code>@</code>.</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">echo &quot;Start all your answers with &#39;Hello fpuga&#39;.</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="go">If the user ask any question about Spain read @./docs/foo.md</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="go">&quot; &gt; GEMINI.md</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="go">gemini &quot;What is the capital of France&quot;</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="go">&gt;&gt;&gt; Hello fpuga,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="go">&gt;&gt;&gt; The capital of France is Paris.</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="go">&gt;&gt;&gt;</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="go">&gt;&gt;&gt; Why don&#39;t scientists trust atoms? Because they make up everything!</span>
</span></code></pre></div>
<p>And indeed, when we use <code>@</code> it follows the references and loads them automatically into the context.</p>
<p>I replicated the experiment with Cursor and Cursor CLI, and in this case, the use of the <code>@</code> symbol has no effect. It only reads <code>foo.md</code> when asked for Spain. I open <a href="https://forum.cursor.com/t/automatically-follow-file-paths-preceded-by-in-agents-md/145915">a feature request about this</a>.</p>
<h3 id="conclusions"><a class="toclink" href="2025/12/11/agents-md-and-at-character-to-reference-documents/#conclusions">Conclusions</a></h3>
<ul>
<li>It's a shame there isn't more standardization in how the tools work.</li>
<li>If the <code>@</code> trick were standardized, it would prevent duplication. From <code>AGENTS.md</code>, we could link a simple <code>CONTRIBUTING.md</code> with rules like "Before committing, run <code>./scripts/format.sh</code> and <code>./scripts/lint.sh</code>; it must not return any errors." Or "All contributions must maintain test coverage above 75%."</li>
<li>The idea of ‚Äã‚Äãa rules index telling the model when to load additional documents is really good for avoiding context clutter.</li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-12-06 00:00:00+00:00">6 de diciembre de 2025</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="entry-point-para-una-cli-python"><a class="toclink" href="2025/12/06/entrypoint-python-cli/">Entry Point para una CLI Python</a></h2>
<p>La flexibilidad del ecosistema Python le ha permitido convertirse en uno de los lenguajes m√°s utilizados. El coste de esa flexibilidad es que en contra del <a href="https://en.wikipedia.org/wiki/Zen_of_Python">Zen of Python</a></p>
<blockquote>
<p>There should be one, and preferably only one, obvious way to do it.</p>
</blockquote>
<p>incluso la gente con experiencia encuentra confusi√≥n y falta de <em>ejemplos can√≥nicos</em> en aspectos que deber√≠an ser obvios c√≥mo <a href="https://xkcd.com/1987/">el empaquetado</a>.</p>
<p>En este art√≠culo tocamos uno de esos aspectos, el <em>entry point</em> para herramientas de consola (ClI).</p>
<h3 id="breve-descripcion-de-las-piezas-que-entran-en-juego"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#breve-descripcion-de-las-piezas-que-entran-en-juego">Breve descripci√≥n de las "piezas" que entran en juego</a></h3>
<h4 id="__main__py"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#__main__py"><code>__main__.py</code></a></h4>
<p>Cuando en un <em>python package</em> (directorio que tiene dentro ficheros python), hay un fichero con el nombre <code>__main__.py</code> y <em>ejecutamos</em> el m√≥dulo desde la l√≠nea de comandos (<code>python -m my_cli</code>), es ese fichero el que se ejecuta. De la documentaci√≥n oficial:</p>
<blockquote>
<p>The <code>__main__.py</code> file is used to provide a command-line interface for a package.</p>
</blockquote>
<p>Si bien en este <em>module</em> no es necesario usar el idiom de <code>__name__ == "__main__":</code> es recomendable usarlo para evitar errores absurdos.</p>
<h4 id="proyectscripts"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#proyectscripts"><code>[proyect.scripts]</code></a></h4>
<p>La secci√≥n <code>[proyect.scripts]</code> de <code>pyproject.toml</code> indica a la herramienta de instalaci√≥n (pip, uv, ...) que debe crear un ejecutable con el nombre que se le indique apuntando (<em>wrapper script</em>, <em>shim</em>, ...) a un determinado m√≥dulo y funci√≥n.</p>
<p>Es decir, es un mecanismo para la distribuci√≥n de nuestra herramienta. Los <em>usuarios</em> no necesitar√°n ejecutar <code>python -m my-cli</code>, si no simplemente <code>my-cli</code>.</p>
<div class="language-toml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># El ejecutable `my-cli` apunta a la funci√≥n `main()` de `my_cli/cli.py`</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">[project.scripts]</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">my-cli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cli.cli:main&quot;</span>
</span></code></pre></div>
<p>Si instalamos en un entorno virtual el ejemplo anterior (<code>python -m pip install -e .[all]</code>, <code>uv sync</code>, ...) se crear√° un fichero <code>.venv/bin/my-cli</code> con este contenido:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="ch">#!/tmp/example/my-cli/.venv/bin/python3</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># -*- coding: utf-8 -*-</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>import<span class="w"> </span>sys
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>from<span class="w"> </span>my_cli.cli<span class="w"> </span>import<span class="w"> </span>main
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">if</span><span class="w"> </span><span class="nv">__name__</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;__main__&quot;</span>:
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span>sys.argv<span class="o">[</span><span class="m">0</span><span class="o">]</span>.endswith<span class="o">(</span><span class="s2">&quot;-script.pyw&quot;</span><span class="o">)</span>:
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span>sys.argv<span class="o">[</span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>sys.argv<span class="o">[</span><span class="m">0</span><span class="o">][</span>:-11<span class="o">]</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="k">elif</span><span class="w"> </span>sys.argv<span class="o">[</span><span class="m">0</span><span class="o">]</span>.endswith<span class="o">(</span><span class="s2">&quot;.exe&quot;</span><span class="o">)</span>:
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">        </span>sys.argv<span class="o">[</span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>sys.argv<span class="o">[</span><span class="m">0</span><span class="o">][</span>:-4<span class="o">]</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span>sys.exit<span class="o">(</span>main<span class="o">())</span>
</span></code></pre></div>
<p>Si se instala a nivel global ser√≠a parecido.</p>
<p>Fij√©monos en que:</p>
<ul>
<li>Apunta a una ruta de python absoluta. De modo que si lo ejecutamos fuera de un virtualenv <code>/tmp/example/my-cli/.venv/bin/my-cli</code> estar√° apuntando al python correcto.</li>
<li>Al activar un virtualenv se modifica <code>"${PATH}"</code> incluyendo c√≥mo primera entrada <code>/tmp/example/my-cli/.venv/bin/</code>, as√≠ que el ejecutable estar√° directamente disponibel c√≥mo <code>my-cli</code></li>
<li>Importa el m√≥dulo y funci√≥n que hemos indicado</li>
<li>Es multiplataforma. En linux podremos usar <code>my-cli</code>, en windows <code>my-cli.exe</code></li>
</ul>
<h4 id="__init__py"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#__init__py"><code>__init__.py</code></a></h4>
<p>Es un fichero que marca un directorio c√≥mo un <em>python package</em>. Su contenido se ejecuta siempre que se hace un import del paquete. No deber√≠a ser usado para escribir l√≥gica, ni c√≥mo entry point para un ejecutable.</p>
<h3 id="mi-forma-preferida"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#mi-forma-preferida">Mi forma preferida</a></h3>
<p>Las piezas se pueden combinar de muchas formas. Algunas combinaciones ser√°n m√°s correctas que otras, seg√∫n que criterios o necesidades se tengan en cuenta.</p>
<p>Mis criterios son:</p>
<ul>
<li><a href="https://franciscopuga.es/blog/2025/06/30/python-project-layout/">src-layout</a></li>
<li>Siempre instalar el paquete, sea para usarlo o desarrollarlo</li>
<li>Asumir que el paquete puede ser distribuido</li>
<li>Minimizar tiros-en-el-pie, errores absurdos y <em>subtle bugs</em></li>
</ul>
<p>Con lo que llegamos a la siguiente estructura:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># my-cli/src/my_cli/__init__.py</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># my-cli/src/my_cli/lib.py</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">do_things</span><span class="p">():</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;do things&quot;</span><span class="p">)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1"># my-cli/src/my_cli/cli.py</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="kn">from</span><span class="w"> </span><span class="nn">my_cli.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">do_things</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Argument parsing logic goes here&quot;</span><span class="p">)</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>    <span class="n">do_things</span><span class="p">()</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="c1"># my-cli/src/my_cli/__main__.py</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="kn">from</span><span class="w"> </span><span class="nn">my_cli.cli</span><span class="w"> </span><span class="kn">import</span> <span class="n">main</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>    <span class="n">main</span><span class="p">()</span>
</span></code></pre></div>
<div class="language-toml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># my-cli/pyproject.toml</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">[project.scripts]</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">my-cli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cli.cli:main&quot;</span>
</span></code></pre></div>
<h3 id="algunas-dudas"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#algunas-dudas">Algunas dudas</a></h3>
<p>Tengo algunas dudas con esta aproximaci√≥n que modifico seg√∫n el caso:</p>
<ul>
<li><code>cli.main</code> o <code>cli.cli</code>. El mejor nombre para esta funci√≥n tambi√©n me causa dudas. Depende del <em>naming</em> del resto c√≥digo, y de si la herramienta es fundamentalmente una cli, una librer√≠a o ambas.</li>
<li>Cuando se usan librer√≠as c√≥mo Typer o Click y subcomandos la estructura de directorios deber√≠a ser algo distinta pero la idea base es la misma.</li>
<li>Es realmente necesario proporcionar un <code>__main__.py</code>. Significa duplicar l√≥gica para un uso muy concreto s√≥lo necesario durante el desarrollo.</li>
</ul>
<h3 id="practicas-incorrectas"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#practicas-incorrectas">Pr√°cticas "incorrectas"</a></h3>
<h4 id="usar-__init__py"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#usar-__init__py">Usar <code>__init__.py</code></a></h4>
<p>Al importar nuestro paquete (<code>import my_tool</code>) estaremos:</p>
<ul>
<li>Polucionando el espacio de nombres con el <code>cli.main</code>. Podr√≠amos usar <code>__all__</code>, pero eso queda para otro d√≠a.</li>
<li>Fomentando antipatrones</li>
<li>Corriendo el riesgo de <em>side effects</em> indeseados.</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># WRONG</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1"># src/my_cli/__init__.py</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">my_cli.cli</span><span class="w"> </span><span class="kn">import</span> <span class="n">main</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    <span class="n">main</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="jugar-con-el-nombre-del-ejecutable"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#jugar-con-el-nombre-del-ejecutable">Jugar con el nombre del ejecutable</a></h4>
<p>En <code>pyproject.toml</code> se puede asignar un nombre al ejecutable. Salvo que haya un motivo realmente bueno, c√≥mo tener m√°s de un ejecutable, debe tener el mismo nombre que el paquete <a href="https://docs.astral.sh/uv/guides/tools/#commands-with-different-package-names">para evitar confusiones</a>.</p>
<div class="language-toml highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># WRONG</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1"># pyproject.toml</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">[project.scripts]</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># Asignamos el nombre my-tool al ejecutable</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">my-tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cli.cli:main&quot;</span>
</span></code></pre></div>
<h4 id="ejecutar-directamente-clipy"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#ejecutar-directamente-clipy">Ejecutar directamente <code>cli.py</code></a></h4>
<p>Salvo scripts muy peque√±os, ejecutar directamente un m√≥dulo Python deber√≠a ser considerado un antipatr√≥n. Obligar a instalar el paquete y ejecutar los m√≥dulos ahorra problemas, sobre todo con los imports. Por ello no permitiremos la ejecuci√≥n directa del m√≥dulo.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># WRONG</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1"># src/my_cli/cli.py</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">my_cli.lib</span><span class="w"> </span><span class="kn">import</span> <span class="n">do_things</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Argument parsing logic goes here&quot;</span><span class="p">)</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="n">do_things</span><span class="p">()</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="c1"># Permitimos ejecutar directamente este m√≥dulo con `python src/my_cli/cli.py`</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    <span class="n">main</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="apuntar-a-__main__py-desde-projectscripts"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#apuntar-a-__main__py-desde-projectscripts">Apuntar a <code>__main__.py</code> desde <code>project.scripts</code></a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># src/my_cli/__main__.py</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">my_cli.cli</span><span class="w"> </span><span class="kn">import</span> <span class="n">main</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">main</span><span class="p">()</span>
</span></code></pre></div>
<div class="language-toml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">[project.scripts]</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">my-tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cli.__main__:main&quot;</span>
</span></code></pre></div>
<p>Parece una buena idea, porqu√© un cambio grande en la herramienta, que toque <code>cli.py</code>, puede obligar a cambiar tanto el fichero <code>__main__.py</code> c√≥mo el <code>pyproject.toml</code>. Si <code>pyproject.toml</code> apunta directamente a <code>__main__.py</code> s√≥lo hay que hacer el cambio en un sitio.</p>
<p>Pero no lo es.</p>
<ul>
<li><code>__main__.py</code> deber√≠a estar reservado para ejecutar con <code>python -m my_tool</code> por <em>Separation of Concerns</em>.</li>
<li>El stack trace al usar <code>my-tool</code> ir√° directamente a <code>cli.py</code> sin pasar con <code>__main__.py</code> que es s√≥lo un wrapper.</li>
<li>Los imports se vuelven confusos, y podemos acabar con dependencias circulares. En este ejemplo concreto, aunque podr√≠a ser escrito de otra forma, "main" es en realidad <code>cli.main</code>, no <code>__main__.main</code>.</li>
<li><code>__main__</code> tiene dos significados distintos en python, lo que lleva a confusi√≥n.</li>
<li>Evitamos indirecciones. Con leer <code>pyproject.toml</code> podemos saltar al c√≥digo real, y el <em>shim</em> tambi√©n queda m√°s limpio.</li>
<li>Es una pr√°ctica m√°s habitual (black, pytest, pip).</li>
<li>Si el proyecto crece y proporcionamos m√°s ejecutables, el resultado es m√°s limpio.</li>
</ul>
<div class="language-toml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">[project.scripts]</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">my-tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cli.cli:main&quot;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">my-tool-db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cli.commands.database:main&quot;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">my-tool-serve</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cli.commands.server:main&quot;</span>
</span></code></pre></div>
<h3 id="referencias"><a class="toclink" href="2025/12/06/entrypoint-python-cli/#referencias">Referencias</a></h3>
<ul>
<li><a href="https://docs.python.org/3/library/__main__.html">Top-level code environment</a> en la documentaci√≥n oficial de Python</li>
<li><a href="https://setuptools.pypa.io/en/latest/userguide/entry_point.html">Entry Point</a> en la documentaci√≥n de setuptools</li>
<li><a href="https://discuss.python.org/t/why-do-script-entrypoints-require-a-function-be-specified/14090/18">Why do script entrypoints require a function be specified?</a></li>
</ul>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <span class="md-pagination__current">1</span> <a class="md-pagination__link" href="page/2/">2</a> <a class="md-pagination__link" href="page/3/">3</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="page/41/">41</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2007-2024 Francisco Puga. Bajo licencia CC-BY 4.0.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/fpuga" target="_blank" rel="noopener" title="fpuga on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://x.com/fpuga" target="_blank" rel="noopener" title="fpuga on X" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://stackoverflow.com/users/930271/francisco-puga" target="_blank" rel="noopener" title="fpuga on StackOverflow" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M290.7 311 95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="hhttps://www.linkedin.com/in/francisco-puga-b25a8361/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.tabs", "navigation.sections", "toc.follow", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>