
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<!-- Page description -->

<meta name="description" content="Página personal de Francisco Puga" />


<!-- Page author -->

<meta name="author" content="Francisco Puga" />


<!-- Canonical -->

<link rel="canonical" href="https://franciscopuga.es/blog/archive/2007/page/6/" />


<!-- Previous page -->

<link rel="prev" href="../../../2008/" />


<!-- Next page -->


<!-- RSS feed -->

<link
  rel="alternate"
  type="application/rss+xml"
  title="Fuente RSS"
  href="../../../../../rss.xml"
/>
<link
  rel="alternate"
  type="application/rss+xml"
  title="Fuente RSS de contenido actualizado"
  href="../../../../../rss_updated.xml"
/>


<!-- Favicon -->
<link rel="icon" href="../../../../../assets/images/favicon.png" />

<!-- Generator banner -->
<meta name="generator" content="mkdocs-1.6.1, $md-name$-$md-version$" />

    
      
        <title>2007 - Francisco Puga</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../extra/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="conocimientoabierto" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2007" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../../../../.." title="Francisco Puga" class="md-header__button md-logo" aria-label="Francisco Puga" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Francisco Puga
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2007
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../../" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="Francisco Puga" class="md-nav__button md-logo" aria-label="Francisco Puga" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Francisco Puga
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Archivo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archivo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2016/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2016
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2014
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2013
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2012
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2011/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2011
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2010
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2009/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2009
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2008/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2008
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    2007
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    2007
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#instalar-los-drivers-para-una-webcam" class="md-nav__link">
    <span class="md-ellipsis">
      Instalar los drivers para una webcam
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonido-y-multiples-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Sonido y múltiples usuarios
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cambiar-permisos-de-forma-recursiva-y-selectiva" class="md-nav__link">
    <span class="md-ellipsis">
      Cambiar permisos de forma recursiva y selectiva
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivos" class="md-nav__link">
    <span class="md-ellipsis">
      Motivos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#instalar-los-drivers-para-una-webcam" class="md-nav__link">
    <span class="md-ellipsis">
      Instalar los drivers para una webcam
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonido-y-multiples-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      Sonido y múltiples usuarios
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cambiar-permisos-de-forma-recursiva-y-selectiva" class="md-nav__link">
    <span class="md-ellipsis">
      Cambiar permisos de forma recursiva y selectiva
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivos" class="md-nav__link">
    <span class="md-ellipsis">
      Motivos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="2007">2007</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2007-04-04 00:00:00">4 de abril de 2007</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="instalar-los-drivers-para-una-webcam"><a class="toclink" href="../../../../2007/04/04/instalar-los-drivers-para-una-webcam/">Instalar los drivers para una webcam</a></h2>
<p><strong>Actualización 19/06/2009:</strong> Este artículo está desfasado. En la actualidad la mayoría de las webcam funcionan en gnu/linux simplemente con enchufarlas. Lo explico algo mejor <a href="http://conocimientoabierto.es/instalar-drivers-webcam-linux/83/">en este artículo</a>.</p>
<p>Lo primero que debemos hacer es acudir a esta <a href="http://mxhaard.free.fr/spca5xx.html">página</a> y comprobar si nuestra webcam está soportada. Para ello podemos buscar el nombre de nuestra cámara en la 5 columna, la que pone algo parecido a <em>based cameras.</em></p>
<p>En caso de no encontrarla podemos buscar alguna que use el mismo chip, y usar sus valores. Para averiguar si usa el mismo chip debemos fijarnos en el ID del fabricante y el ID del dispositivo. En Mandriva podemos obtener estos valores del Panel de Control en la sección de Hardware. Una forma un poco más genérica consiste en abrir un terminal de root y teclear <em>lsusb</em>. En mi caso saldrían los siguiente valores.<br />
<code>&lt;br&gt;&lt;/br&gt;[root@localhost ~]# lsusb&lt;br&gt;&lt;/br&gt;Bus 001 Device 003: ID 2001:5100 D-Link Corp. [hex]&lt;br&gt;&lt;/br&gt;Bus 001 Device 002: ID 093a:2468 Pixart Imaging, Inc. Easy Snap Snake Eye WebCam&lt;br&gt;&lt;/br&gt;Bus 001 Device 001: ID 0000:0000&lt;br&gt;&lt;/br&gt;</code><br />
Debemos identificar el correspondiente a la cámara, que en mi caso es el segundo dispositivo. Los primeros número tras ID corresponden al fabricante y los otros al dispositivo.<br />
<code>&lt;br&gt;&lt;/br&gt;ID Fabricante=093a&lt;br&gt;&lt;/br&gt;ID Dispositov=2468&lt;br&gt;&lt;/br&gt;</code><br />
Si la cámara está soportada y el driver es del tipo spca5xx, tenemos suerte ya que podemos encontrar el driver que nos hace falta en la sección Download de esa misma web. A pesar de existir versiones precompiladas, si nuestra versión del kernel es superior a la 2.6.11 (lo que es muy probable, <em>uname -a</em> para comprobarlo) es mejor que nos descarguemos el archivo <em>gspcav1-xxxx.tar.gz</em> y lo compilemos nosotros mismos.</p>
<p>Descomprimimos el fichero en nuestro disco duro y dentro de ese directorio<br />
<code>&lt;br&gt;&lt;/br&gt;#make&lt;br&gt;&lt;/br&gt;#make install&lt;br&gt;&lt;/br&gt;</code><br />
Si no se produce ningún error nuestra webcam debería estar casí lista para funcionar. Ahora debemos reiniciar el ordenador (supongo que si ejecutamos <em>modprobe gspca</em> no hace falta que reiniciemos pero no aseguro que esto de buen resultado). Para comprobar que ha sido correctamente instalado podemos usar nuestro cliente de mensajería instantanea favorito. En mi caso he tenido problemas con kopete, pero con amsn y el ekiga sin problemas. En amsn he seleccionado webcam de baja calidad porque si no el vídeo iba a demasiados pocos frames por segundo.</p>
<p>Al igual que en el <a href="http://conocimientoabierto.blogspot.com/2007/03/sonido-y-mltiples-usuarios.html">post anterior</a> en el que hablaba del sonido si deseamos lanzar programas como otro usuario debemos añadir ese usuario al grupo video o dar permisos sobre los dispostivos /dev/video<br />
<code>gpasswd -a user2 video</code></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2007-03-26 00:00:00">26 de marzo de 2007</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="sonido-y-multiples-usuarios"><a class="toclink" href="../../../../2007/03/26/sonido-y-multiples-usuarios/">Sonido y múltiples usuarios</a></h2>
<p>Antes de entrar en el título del post, me gustaría repasar una de las primeras cosas que se aprenden cuando se empieza a profundizar un poco en GNU/Linux, <strong>cualquier elemento del sistema es tratado como si fuese un fichero</strong>. Es decir, desde la foto que hemos descargado de la cámara hasta nuestra tarjeta de sonido pasando por el disco duro tienen una representación (un nombre) dentro del sistema de ficheros.</p>
<p><a href="http://moranar.com.ar/lin/ldtree.html">Comprender La estructura del árbol de directorios</a> no es necesario en la práctica, pero nos ayudará a entendernos mejor con el ordenador. Esta estructura dicta por tanto donde debería ir colocado cada elemento del sistema. Nuestros archivos personales estarán en alguna subcarpeta de /home mientras que nuestro disco duro será representado por /dev/hda.</p>
<p>Nuestra tarjeta de sonido estará representada mediante los ficheros <em>/dev/dsp</em> o <em>/dev/audio</em>, que por supuesto tendrán establecidos unos determinados permisos y pertenecerán a un determinado usuario y grupo. Lo que viene a continuación está comprobado en una Mandriva 2007 pero entiendo que será extrapolable a la mayoría de distribuciones de Linux.</p>
<p><code>crw-rw---- 1 fran audio 14, 4 mar 26 10:37 /dev/audio&lt;br&gt;&lt;/br&gt;crw-rw---- 1 fran audio 14, 3 mar 26 10:37 /dev/dsp</code></p>
<p>Cuando nos identificamos como un determinado usuario el sistema define como propietario de <em>/dev/audio</em> al usuario con el que hemos identificado, el grupo <em>audio</em> es creado durante la instalación del sistema operativo. Si estando identificados como <em>usuario1</em> lanzamos algún proceso (mediante el comando <em>su</em> por ejemplo) como <em>usuario2</em> que requiera usar la tarjeta de sonido habrá un error puesto que el segundo usuario no tendrá los permisos adecuados para escribir en el fichero que representa a la tarjeta de sonido.</p>
<p>La solución más sencilla y elegante (si el grupo <em>audio</em> existe) será agregar a todos los usuarios que nos interese a ese grupo. Podemos hacerlo mediante la interfaz gráfica (en Mandriva <em>Sistema-&gt;Configuración-&gt;Otro-&gt;Administrar Usuarios</em> o abriendo un terminal de root y tecleando <br />
<code>gpasswd -a fran audio</code></p>
<p>Nuestra otra opción es aplicar permisos de escritura y lectura para todos sobre esos ficheros <em>chmod a+r a+w /dev/audio</em></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2007-03-12 00:00:00">12 de marzo de 2007</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="cambiar-permisos-de-forma-recursiva-y-selectiva"><a class="toclink" href="../../../../2007/03/12/cambiar-permisos-de-forma-recursiva-y-selectiva/">Cambiar permisos de forma recursiva y selectiva</a></h2>
<p>Por culpa de un modem con drivers propietarios (y mi ineptitud para instalar unos libres) llevaba unos 6 meses usando Windows. En otro artículo hablaré de mi odisea particular con los drivers, pero en este quiero hablar de uno de los problemas que nos asaltan cuando migramos de sistema operativo, traspasar los datos que tengamos almacenados en el antiguo sistema al nuevo.</p>
<p>Cambiar de Windows a Linux implica cambiar de <a href="http://es.wikipedia.org/wiki/Sistema_de_ficheros">sistema de ficheros</a>. Si somos un poco meticulosos enseguida nos damos cuenta de que no vale simplemente con <em>copiar y pegar</em> puesto que los permisos de los ficheros que hayamos copiado quedaran descolocados. El esquema de permisos será algo como esto <em>-r-xr-xr-x</em>, es decir, sin permisos para poder modificar los ficheros ya creados y todos con la posibilidad de ser ejecutados. Además todos los usuarios del sistema pueden leer los datos del resto de usuario, con los peligros de seguridad que ello conlleva.</p>
<p>Migrar entre sistemas Unix (o entre distintas distribuciones de GNU/Linux) no nos dará esta clase de problemas a no ser que no copiemos los datos de una partición del disco duro a otra, sino que lo que hagamos sea hacer una copia de los ficheros a DVD y de ahí de nuevo al disco duro. En este caso, también aplicable a cuando hacemos copias de seguridad, lo más sencillo es empaquetar nuestros datos en un archivo comprimido mediante la utilidad <em>tar</em> pasándole las opciones adecuadas en la línea de comandos para indicarle que preserve los permisos originales de los ficheros.</p>
<p>Para crear la copia.<br />
<code>$tar --create --bzip2 --file=copia.tar.bz2 /home/fran/Documentos</code></p>
<p>Para restaurarla<br />
<code>$tar --extract --bzip2 --atime-preserve --same-permissions --file=copia.tar.bz2</code></p>
<p>Las opciones aquí empleadas y más información pueden encontrarse como siempre en la ayuda del programa<br />
<code>$man tar</code></p>
<p>Lo que pretendía explicar era de todas formas otra cosa. En el momento en que tenemos los ficheros copiados y con los permisos establecidos de manera no adecuada debemos tirar del comando <em>chmod</em> para cambiarlos. Para cambiar de manera recursiva los permisos de todos los ficheros y directorios a partir del que elijamos usaremos:<br />
<code>$chmod -R 0777</code></p>
<p>El probema es que chmod no discrimina tipos de archivo, estaremos asignando los mismos permisos a directorios, documentos de texto, ficheros que nos gustaria que fuesen de solo lectura como fotos, etc. La solución nos la da el comando <em>find</em>. Las posibilidades del comando find son muy amplias aunque para nuestro objetivo expongo aquí las más interesantes:</p>
<ul>
<li>-type d : Devuelve los nombres de los directorios</li>
<li>! : Niega la siguiente expresión. Así, <em>! -type d</em> Devuelve los nombres de los ficheros no directorios</li>
<li>-iname <u>patron</u> : Devuelve los nombres de ficheros (sin distinguir mayúsculas y minúsculas) que coinciden con un determinado patrón, podemos usar los comodines * y ?</li>
<li>-iregex <u>patron</u> : Como el anterior pero patrón es una expresión regular.</li>
<li>-exec <u>comando</u> {} ; : Ejecuta el comando <u>comando</u>. {} Representa los nombres de archivo devueltos por find, es decir que ejecutamos el comando para cada fichero devuelto por find. ; Es usado por la shell para reconocer el final del comando.</li>
</ul>
<p>Así para el caso más habitual en que deseamos otorgar permisos de lectura, escritura y ejecución para directorios, y de lectura y escritura para el resto de archivos (y ninguno para el resto de usuarios) los comandos serían:<br />
<code>find &lt;u&gt;directorio&lt;/u&gt; -type d -exec chmod 0700 {} ;&lt;br&gt;&lt;/br&gt;find &lt;u&gt;directorio&lt;/u&gt; ! -type d -exec chmod 0600 {} ;</code></p>
<p>Para aquellos con pocas ganas de jugar con los comandos, he escrito un pequeño script. Para ejecutarlo sólo hay que copiar el código y guardarlo en un fichero de texto de nombre cambiar_permisos.sh (por ejemplo). Abrir una consola y escribir:<br />
<code>$sh cambiar_permisos.sh &lt;u&gt;directorio&lt;/u&gt;</code><br />
En el script se distinguen tres tipos de archivos:</p>
<ul>
<li>ficheros con las extensiones .*pdf .*jpg .*jpeg .*bmp .*png .*gif .*avi .*mpg .*mpeg .*mp3 .*ogg a los que se asignan los permisos 0400</li>
<li>directorios, a los que se asignan los permisos 0700</li>
<li>resto de ficheros, a los que se asignan los permisos 0600</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>&lt;br&gt;&lt;/br&gt;#!/bin/sh&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;# Francisco Puga Alonso.&lt;br&gt;&lt;/br&gt;# 10/03/2007  v 0.2&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;# Este software se distribuye sin ninguna garantía.&lt;br&gt;&lt;/br&gt;# El autor no se hace responsable de los posibles daños de su uso&lt;br&gt;&lt;/br&gt;# Este software pertenece al dominio público&lt;br&gt;&lt;/br&gt;# Para consultar la ayuda del script ejecute ./cambiar_permisos -h&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;# Este script cambia los permisos de los ficheros y directorios a partir del&lt;br&gt;&lt;/br&gt;# directario de entrada que nosotros le indiquemos. A la hora de cambiar los&lt;br&gt;&lt;/br&gt;# permisos, asigna permisos separados a directorios, ficheros de sólo lectura&lt;br&gt;&lt;/br&gt;# y resto de ficheros. Si quiere saber que se consideran ficheros de sólo&lt;br&gt;&lt;/br&gt;# ejecute ./cambiar_permisos -h o consulte el valor de la variable EXT_READ&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;# Se comprueba que el directorio origen existe, pero no comprueba que tengamos&lt;br&gt;&lt;/br&gt;# los permisos adecuados para cambiarlos&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;#Ficheros considerados de sólo lectura.&lt;br&gt;&lt;/br&gt;EXT_READ=&quot;.*pdf .*jpg .*jpeg .*bmp .*png .*gif .*avi .*mpg .*mpeg .*mp3 .*ogg&quot;&lt;br&gt;&lt;/br&gt;#EXT_REGEX contiene la expresión regular que identificará estos ficheros&lt;br&gt;&lt;/br&gt;EXT_REGEX=&quot;.*pdf|.*jpg|.*jpeg|.*bmp|.*png|.*gif|.*avi|.*mpg|.*mpeg|.*mp3|.*ogg&quot;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;#Permisos por defecto aplicados a los distintos tipos de fichero considerados&lt;br&gt;&lt;/br&gt;PDIRS=&quot;0700&quot;&lt;br&gt;&lt;/br&gt;PREAD=&quot;0400&quot;&lt;br&gt;&lt;/br&gt;POTHERS=&quot;0600&quot;&lt;br&gt;&lt;/br&gt;DIR=&quot;/dev/null&quot;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;ayuda() {&lt;br&gt;&lt;/br&gt;#Imprime la información de ayuda&lt;br&gt;&lt;/br&gt;echo &quot;Usage: $0  [-d ] [-r ] [-o ]&quot;&lt;br&gt;&lt;/br&gt;echo &quot;-d :: Permisos aplicados a directorios y subdirectorios. Por defecto 0700&quot;&lt;br&gt;&lt;/br&gt;echo -e &quot;-r :: Permisos aplicados a los siguientes formatos de archivo &quot;&lt;br&gt;&lt;/br&gt;       echo -e &quot;(Por defecto 0400):n$EXT_READ&quot;&lt;br&gt;&lt;/br&gt;echo &quot;-o :: Permisos aplicados al resto de ficheros. Por defecto 0600&quot;&lt;br&gt;&lt;/br&gt;echo &quot;-h :: Imprime esta ayuda&quot;&lt;br&gt;&lt;/br&gt;exit&lt;br&gt;&lt;/br&gt;}&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;if [ $# = &quot;0&quot; ] ; then&lt;br&gt;&lt;/br&gt;    echo &quot;Debe especificar un directorio. Use . para referirse al directorio actual&quot;&lt;br&gt;&lt;/br&gt;ayuda $0&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;else&lt;br&gt;&lt;/br&gt;if ! [ -d $1 ] ; then &lt;br&gt;&lt;/br&gt; echo &quot;El primer parametro debe ser un directorio&quot;&lt;br&gt;&lt;/br&gt; ayuda $0&lt;br&gt;&lt;/br&gt;else DIR=&quot;$1&quot;&lt;br&gt;&lt;/br&gt;fi&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;shift&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;while (( $# )) ; do&lt;br&gt;&lt;/br&gt; case $1 in&lt;br&gt;&lt;/br&gt;  -d ) PDIRS=&quot;$1&quot;;;&lt;br&gt;&lt;/br&gt;  -r ) PREAD=&quot;$1&quot;;;&lt;br&gt;&lt;/br&gt;  -o ) POTHERS=&quot;$1&quot;;;&lt;br&gt;&lt;/br&gt;  -h ) ayuda $0 ;;&lt;br&gt;&lt;/br&gt;  * ) echo &quot;Opción Incorrecta&quot; ; ayuda $0 ;;&lt;br&gt;&lt;/br&gt; esac&lt;br&gt;&lt;/br&gt; shift&lt;br&gt;&lt;/br&gt;done&lt;br&gt;&lt;/br&gt;fi&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;find &quot;$DIR&quot; -mount -type d -exec chmod &quot;$PDIRS&quot; {} ;&lt;br&gt;&lt;/br&gt;find &quot;$DIR&quot; -mount ! -type d -and -iregex &quot;$EXT_NOW&quot; -exec chmod &quot;$PREAD&quot; {} ;&lt;br&gt;&lt;/br&gt;find &quot;$DIR&quot; -mount ! -type d -and ! -iregex &quot;$EXT_NOW&quot; -exec chmod &quot;$POTHERS&quot; {} ;&lt;br&gt;&lt;/br&gt;
</span></code></pre></div>
<p>El código no me ha quedado demasiado bien maquetado pero aún tengo que mejorar mi CSS. Para la realización de este script me he inspirado en este post de <a href="http://www.jsancho.org/2004/01/28/18/trackback/">Javier Sancho</a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2007-03-08 00:00:00">8 de marzo de 2007</time></li>
        
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="motivos"><a class="toclink" href="../../../../2007/03/08/motivos/">Motivos</a></h2>
<p>El mundo es un lugar complejo. Mientras <a href="http://www.manosunidas.org/opinion/agua_dulce_africa.htm">1200 millones de personas carecen de agua potable</a> unos cuantos cientos o miles pueden comer en Londres y llegar a París a bordo de su jet privado a tiempo de ver iluminarse a la Torre Eiffel.</p>
<p>Las causas de esta desigualdad son muchas. Este blog surge con la finalidad de hablar de algunas de ellas, especialmente de aquellas relacionadas con la llamada Sociedad de la Información, el flujo libre de conocimientos y la tecnología. De muy diversas formas se puede abordar esta tarea, por mi parte trataré de mezclar los artículos de opinión (espero que debidamente justificada) con artículos un poco más técnicos y pequeñas recetas que demuestren la sencillez de uso y las increíbles capacidades del sistema operativo libre más extendido, <a href="http://es.wikipedia.org/wiki/Linux">GNU/Linux.</a></p>
<p>No soy experto en nada por tanto lo que aquí publique no debe ser tomado como verdades absolutas, espero que todo aquel que esté en contra (o a favor) de lo que diga use los comentarios para manifestar su postura. Esa es la grandeza de la web, todo el mundo puede ser leído.</p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="../4/">4</a> <a class="md-pagination__link" href="../5/">5</a> <span class="md-pagination__current">6</span>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2007-2024 Francisco Puga. Bajo licencia CC-BY 4.0.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/fpuga" target="_blank" rel="noopener" title="fpuga on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://x.com/fpuga" target="_blank" rel="noopener" title="fpuga on X" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://stackoverflow.com/users/930271/francisco-puga" target="_blank" rel="noopener" title="fpuga on StackOverflow" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M290.7 311 95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="hhttps://www.linkedin.com/in/francisco-puga-b25a8361/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.indexes", "navigation.tabs", "navigation.sections", "toc.follow", "content.code.copy"], "search": "../../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.d6f25eb3.min.js"></script>
      
    
  </body>
</html>